<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emergency Dashboard</title>
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&callback=initMap" defer></script>
    <style>
        /* General Reset */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        body {
            display: flex;
            height: 100vh;
            background-color: #f4f4f4;
        }

        /* Sidebar */
        .sidebar {
            width: 20%;
            background: linear-gradient(to bottom, #d50000, #9b0000);
            color: white;
            padding: 20px;
            text-align: center;
        }

        /* Main Dashboard */
        .main-content {
            width: 80%;
            padding: 20px;
        }

        .status-cards {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .card {
            flex: 1;
            padding: 20px;
            color: white;
            text-align: center;
            border-radius: 10px;
            margin: 0 10px;
        }

        .red { background: #d32f2f; }
        .yellow { background: #fbc02d; }
        .green { background: #388e3c; }

        .content {
            display: flex;
            justify-content: space-between;
        }

        .emergency-form {
            width: 45%;
            background: #e0e0e0;
            padding: 20px;
            border-radius: 10px;
        }

        .emergency-form h3 {
            margin-bottom: 15px;
        }

        .emergency-form select,
        .emergency-form input {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            border: none;
            border-radius: 5px;
        }

        .emergency-form button {
            width: 100%;
            padding: 10px;
            background: #d32f2f;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .live-map {
            width: 50%;
            background: #ff8a80;
            padding: 20px;
            border-radius: 10px;
        }

        .live-map #map {
            width: 100%;
            height: 300px;
            background: grey;
        }
    </style>
</head>
<body>

    <!-- Sidebar -->
    <div class="sidebar">
        <h2>Emergency Dashboard</h2>
    </div>

    <!-- Main Dashboard -->
    <div class="main-content">
        
        <!-- Emergency Status Cards -->
        <div class="status-cards">
            <div class="card red">
                <p>Active Emergencies</p>
                <h1>3</h1>
            </div>
            <div class="card yellow">
                <p>Pending Response</p>
                <h1>2</h1>
            </div>
            <div class="card green">
                <p>Active Units</p>
                <h1>8</h1>
            </div>
        </div>

        <!-- Form & Map -->
        <div class="content">
            
            <!-- Emergency Form -->
            <div class="emergency-form">
                <h3>Enter Emergency Details</h3>
                
                <label for="vehicle">Vehicle Type</label>
                <select id="vehicle">
                    <option value="ambulance">üöë Ambulance</option>
                    <option value="police">üöì Police</option>
                    <option value="fire-truck">üöí Fire Truck</option>
                </select>

                <label for="location">Location</label>
                <input type="text" id="location" placeholder="Enter location">

                <label for="priority">Priority Type</label>
                <select id="priority">
                    <option value="high">üî¥ High</option>
                    <option value="medium">üü† Medium</option>
                    <option value="low">üü¢ Low</option>
                </select>

                <button onclick="submitEmergency()">Submit Emergency</button>
            </div>

            <!-- Live Map -->
            <div class="live-map">
                <h3>Live Map</h3>
                <div id="map"></div>
            </div>

        </div>

    </div>

    <!-- JavaScript -->
    <script>
        let map;
        let marker;
        let emergencyVehicle = { lat: 12.9716, lng: 77.5946 }; // Initial vehicle location (example)

        function initMap() {
            map = new google.maps.Map(document.getElementById("map"), {
                center: emergencyVehicle,
                zoom: 14,
            });

            marker = new google.maps.Marker({
                position: emergencyVehicle,
                map: map,
                title: "Emergency Vehicle",
            });
        }

        function submitEmergency() {
            let vehicleType = document.getElementById("vehicle").value;
            let location = document.getElementById("location").value;
            let priority = document.getElementById("priority").value;

            if (!location) {
                alert("Please enter a location!");
                return;
            }

            // Simulate new emergency vehicle movement
            emergencyVehicle = {
                lat: emergencyVehicle.lat + (Math.random() * 0.02 - 0.01),
                lng: emergencyVehicle.lng + (Math.random() * 0.02 - 0.01)
            };

            marker.setPosition(emergencyVehicle);
            map.setCenter(emergencyVehicle);

            let eta = calculateETA(emergencyVehicle, location);
            alert(`üö® Emergency Reported!\nüöó Vehicle: ${vehicleType}\nüìç Location: ${location}\n‚ö†Ô∏è Priority: ${priority}\n‚è≥ ETA: ${eta} mins`);
        }

        function calculateETA(vehicleLocation, destination) {
            let distance = Math.sqrt(
                Math.pow(vehicleLocation.lat - 12.9716, 2) + Math.pow(vehicleLocation.lng - 77.5946, 2)
            );

            let speed = 0.5; // Approximate speed factor
            let eta = Math.round((distance / speed) * 10); // Convert to minutes
            return eta;
        }
    </script>

</body>
</html>

